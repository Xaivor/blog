# React 部分
下面是常见的 `React` 基础问题：

## 1. React 中的 Fiber 架构 ⭐
`Fiber` 架构是 `React` 16 引入的一种新的架构，它允许 `React` 在渲染过程中进行中断和恢复，从而实现更流畅的用户体验。

解决的痛点：
- `增量渲染`：Fiber 架构可以将渲染工作拆分成多个时间片段执行，使得每个时间片段都有机会插入其他优先级更高的任务，从而在保证页面响应性的同时，尽可能快地完成渲染工作。
- `优先级调度`：Fiber 架构引入了任务优先级的概念，可以根据任务的紧急程度和重要性对任务进行优先级排序，确保优先级较高的任务能够尽早得到处理，提高用户交互的流畅度。
- `可中断和恢复`：Fiber 架构支持任务的中断和恢复，即在渲染过程中，如果有更高优先级的任务需要处理，当前任务可以被暂停并稍后恢复，以确保更及时地响应用户操作。
- `更好的错误处理`：Fiber 架构为错误处理提供了更好的机制。每个 Fiber 都有自己的错误边界，可以捕获并处理组件树中发生的错误，并在不崩溃整个应用程序的情况下进行优雅降级。

## 2. React 中的 Diff 算法 ⭐
`React Diff` 算法是 React 虚拟 Dom 的核心。它允许 React 快速确定虚拟 Dom 树上的哪些部分需要更新，从而使得 UI 更新非常的高效。

### 同级比较
- React 不会进行跨层级的 DOM 比较。它只比较同一层级的元素。
  
### 元素类型
- **类型不同，删除重建**：当两棵树的相同位置找到两个不同类型的元素时，React 会直接销毁旧节点及其子节点，并从头开始创建新节点。
- **类型相同，复用节点**：如果两个元素是相同类型的，React 会保留该 DOM 节点，并仅更新变化的属性。并递归地对其子节点进行比较。

### Keys重要性
当在数组中渲染子节点时，必须为每个子节点分配一个稳定的 Key 值。通过为每个节点分配一个 Key，React 可以使用这个 Key 来识别那些在不同的渲染中仍然保持不变的元素。
> 如果你没有设置 Key，React 内部会默认使用元素的索引作为它们的 Key
>
> `若是设置一个随机 Key 会怎样`？

**现象**：每次组件渲染，随机 Key 值都会变化，即时实际渲染的数据没有变，这个元素也会被销毁重新创建。

这将导致以下问题出现：
1. 性能下降
2. 状态丢失
   - 如果一个组件或元素依赖于本地状态或维护状态（如输入字段）。
3. 不一致的 DOM 行为
   - 这可能导致不可预测的行为，如焦点丢失、文本选择丢失等。
  
## 3. React 中的 Virtual DOM ⭐
虚拟 DOM 本质上是一个 JS 对象，它反映了真实 DOM 的结构和内容。
- 1.提供一个中间缓存，使得直接操作实际的 DOM（这通常是昂贵的操作）不再那么频繁。
- 2.通过对比新旧虚拟 DOM 来计算出最小的变动，从而优化实际 DOM 的更新。

虚拟 DOM 可以让 React 更优雅高效的更新真实 DOM，虚拟 DOM 可以让开发者不用关注 DOM 操作，只操作数据。

## 4. React 中的 Hooks ⭐
`Hooks` 是 React 16.8 版本引入的新特性，它允许在函数组件中使用状态（state）和生命周期（lifecycle）等 React 特性。

### 常用 Hooks
- `useState`：用于在函数组件中定义和更新状态（state）。
- `useEffect`：用于在函数组件中执行副作用操作（side effect）。
- `useContext`：用于在函数组件中获取上下文（context）的值。
- `useReducer`：用于在函数组件中实现状态管理。
- `useRef`：用于在函数组件中获取对 DOM 元素的引用。
- `useCallback`：用于在函数组件中缓存函数。
- `useMemo`：用于在函数组件中缓存计算结果。
- `useLayoutEffect`：类似于 `useEffect`，但会在 DOM 更新后同步调用副作用函数。


## 5. React 中的生命周期 ⭐
React 组件的生命周期是指组件从创建到销毁的过程，它包括三个阶段：`挂载`、`更新`和`卸载`。
- `挂载`：组件创建时，会调用 `constructor` 方法，然后调用 `render` 方法，最后调用 `componentDidMount` 方法。
- `更新`：当组件的 `props` 或 `state` 发生变化时，会调用 `render` 方法，然后调用 `componentDidUpdate` 方法。
- `卸载`：当组件从 DOM 中移除时，会调用 `componentWillUnmount` 方法。

### 挂载阶段
- `constructor`：在组件创建时调用，用于初始化组件的状态。
- `render`：在组件创建时调用，用于返回组件的 UI 结构。
- `componentDidMount`：在组件挂载后调用，用于执行一些副作用操作，如发送网络请求、订阅事件等。

### 更新阶段
- `componentWillReceiveProps`：在组件接收到新的 `props` 时调用，用于更新组件的状态。
- `shouldComponentUpdate`：在组件接收到新的 `props` 或 `state` 时调用，用于判断是否需要重新渲染组件。
- `componentWillUpdate`：在组件接收到新的 `props` 或 `state` 且 `shouldComponentUpdate` 返回 `true` 时调用，用于更新组件的状态。
- `render`：在组件接收到新的 `props` 或 `state` 时调用，用于返回组件的 UI 结构。
- `componentDidUpdate`：在组件更新后调用，用于执行一些副作用操作，如发送网络请求、订阅事件等。

### 卸载阶段
- `componentWillUnmount`：在组件从 DOM 中移除时调用，用于执行一些清理操作，如取消订阅事件、清除定时器等。
